<html>
<head>
<title>Game of Life</title>
<script language="javascript" src="js-lib/prototype.js"></script>
<script language="javascript" src="js-lib/log.js"></script>
<script language="javascript" src="life.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css"></link>
</head>
<body bgcolor="#ffffff">

<h1>Game of Life</h1>

<div id="logDiv"></div>

<script language="javascript"><!--
var width = 10;
var height = 10;
var delay = 0;
var board;

var interval;

function timerFunc() {
	if (!board.nextGeneration()) {
		stopRunning();
	}
}

function startRunning(delay) {
	interval = setInterval("timerFunc()", delay);
	$('toggleButton').value = 'Pause';
}

function stopRunning() {
	clearInterval(interval);
	interval = undefined;
	$('toggleButton').value = 'Resume';
}

function toggleRunning(delay) {
	if (interval) {
		stopRunning();
	} else {
		startRunning(delay);
	}
}

function toggleWrap() {
	board.toggleWrap();
}

function clearBoard() {
	board.clear();
}

function randomiseBoard() {
	board.randomise();
}

// --></script>

<form method="get" action="">
<input type="button" value="Single step" onClick="board.nextGeneration();">
<input id="toggleButton" type="button" value="Resume" onClick="toggleRunning(delay);">
<input type="button" value="Clear" onClick="clearBoard();">
<input type="button" value="Random" onClick="randomiseBoard();">
<input type="checkbox" id="wrapCheckBox" checked onChange="toggleWrap();">Edges wrap
</form>

<div id="boardDiv"><table></table></div>

	<script language="javascript"><!--
board = new LifeBoard($('boardDiv').firstChild, width, height, $("wrapCheckBox").checked);
board.glider(0, 0);
// --></script>

</body>
</html>
