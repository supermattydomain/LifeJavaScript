<html>
<head>
<title>Conway's Game of Life</title>
<script language="javascript" src="js-lib/prototype.js"></script>
<script language="javascript" src="js-lib/log.js"></script>
<script language="javascript" src="life.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css"></link>
</head>
<body>

<div id="topDiv">

<h1>Conway's Game of Life</h1>

<div id="logDiv">
</div>

<div id="formDiv">

<script language="javascript"><!--
var width = 20;
var height = 20;
var delay = 10;
var board;

var interval;

function timerFunc() {
	if (!board.nextGeneration()) {
		stopRunning();
	}
}

function startRunning(delay) {
	interval = setInterval("timerFunc()", delay);
	$('toggleButton').value = 'Pause';
}

function stopRunning() {
	clearInterval(interval);
	interval = undefined;
	$('toggleButton').value = 'Resume';
}

function toggleRunning(delay) {
	if (interval) {
		stopRunning();
	} else {
		startRunning(delay);
	}
}

// --></script>

<form method="get" action="">
<input type="button" value="Single step" onClick="board.nextGeneration();">
<input id="toggleButton" type="button" value="Resume" onClick="toggleRunning(delay);">
<input type="button" value="Clear" onClick="board.clear();">
<input type="button" value="Random" onClick="board.randomise();">
<input type="checkbox" id="wrapCheckBox" checked onChange="board.toggleWrap();">Edges wrap
</form>

</div>
</div>

<div id="boardDiv">

<table id="boardTable"></table>

<script language="javascript"><!--
board = new LifeBoard($('boardTable'), width, height, $("wrapCheckBox").checked);
board.glider(0, 0);
// --></script>

</div>
</body>
</html>
